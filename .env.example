# Voice Stack Configuration for matrix.byte-box.org
# Copy this file to .env and customize for your deployment

# === REQUIRED SETTINGS ===
# Your Matrix server domain (must match SSL certificate)
SYNAPSE_SERVER_NAME=matrix.yourdomain.com

# Database password (generate strong password)
POSTGRES_PASSWORD=CHANGE_ME_GENERATE_STRONG_PASSWORD

# Admin registration secret (for creating admin users)
REGISTRATION_SHARED_SECRET=CHANGE_ME_GENERATE_STRONG_SECRET

# TURN server secret (for voice/video calls)
COTURN_STATIC_AUTH_SECRET=CHANGE_ME_GENERATE_STRONG_SECRET

# === OPTIONAL SETTINGS ===
# Database settings (defaults usually work)
POSTGRES_DB=synapse
POSTGRES_USER=synapse

# Report anonymized stats to matrix.org
SYNAPSE_REPORT_STATS=no

# User registration (false = admin only)
ENABLE_REGISTRATION=false
ENABLE_REGISTRATION_WITHOUT_VERIFICATION=false

# Security settings
ALLOW_GUEST_ACCESS=false
URL_PREVIEW_ENABLED=true
REQUIRE_IDENTITY_SERVER=false
TRUSTED_KEY_SERVERS=["matrix.org"]

# Service ports (change if you have conflicts)
SYNAPSE_PORT=8008
ELEMENT_PORT=8080
SYNAPSE_ADMIN_PORT=8082
WELL_KNOWN_PORT=8090

# TURN server settings
COTURN_PORT=3478
COTURN_MIN_PORT=49152
COTURN_MAX_PORT=49172
COTURN_EXTERNAL_IP=auto

# Element Web settings
ELEMENT_VERSION=v1.11.86
ELEMENT_JITSI_DOMAIN=meet.jit.si
ELEMENT_PUBLIC_URL=https://chat.yourdomain.com

# Matrix RTC Features (Element Call)
# These experimental features enable native Element Call integration
# MSC4191: Element Call Matrix RTC focus
# MSC4230: Per-device encryption for Element Call
# MSC3401/3402: Group voice/video calls
# Note: These are automatically enabled in the production configuration

# Logging level (INFO, DEBUG, WARNING, ERROR)
LOG_LEVEL=INFO